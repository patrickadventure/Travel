<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patrick Dhital - Profile</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <main id="main-content">
    <div class="profile-view">
      <div class="stats">
        <canvas id="radarChart"></canvas>
      </div>
      <div class="right">
          <img src="path/to/your/image.jpg" alt="Patrick Dhital" class="profile-img">
          <h2>Biography</h2>
          <div class="bio">
              <p>This guy's the embodiment of "clumsiness". He has a big heart, loves his wife, loves his family, but...he also loses anything and everything on the planet. You can trust him with anything, but don't trust him with anything materialistic. His skills are primarily in gentleness, and a degree of confidence that gets him by. Unfortunately, he is quite bothersome.</p>
              <h3>Key skills:</h3>
              <ul>
                  <li>Problem solver (solves the problems he creates)</li>
                  <li>Great drinking buddy</li>
                  <li>League of Legends</li>
              </ul>
              <h3>Key weaknesses:</h3>
              <ul>
                  <li>Fear</li>
                  <li>Keeping any physical item</li>
                  <li>Remembering anything</li>
              </ul>
          </div>
      </div>
  </main>
  <audio id="drunkModeSound" src="audio/my-audio-file.mp3"></audio>
  <script>
    // Your JavaScript here
    var myRadarChart; // Variable to hold the chart instance

    document.addEventListener('DOMContentLoaded', function() {
      const ctx = document.getElementById('radarChart').getContext('2d');
      myRadarChart = new Chart(ctx, {
        type: 'radar',
        data: getChartData(false), // Initial call with sober mode data
        options: getChartOptions()
      });
    });

    function getChartData(isDrunk) {
      return {
        labels: ['Confidence', 'Bothersome', 'Destruction', 'Gentleness', 'Speech'],
        datasets: [{
          label: 'Patrick\'s Stats',
          data: [50, 55, 5, 85, 65],
          backgroundColor: isDrunk ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.2)', // Change based on mode
          borderColor: isDrunk ? 'rgba(255, 255, 255, 1)' : 'rgba(0, 0, 0, 1)', // Change based on mode
          borderWidth: 1
        }]
      };
    }

    function getChartOptions(isDrunk) {
      return {
        scales: {
          r: {
            beginAtZero: true,
            grid: {
              color: isDrunk ? 'rgba(255, 255, 255, 0.5)' : 'rgba(0, 0, 0, 0.1)',
            },
            angleLines: {
              color: isDrunk ? 'rgba(255, 255, 255, 0.5)' : 'rgba(0, 0, 0, 0.1)',
            },
            pointLabels: {
              color: isDrunk ? '#fff' : '#000',
            },
            ticks: {
              display: false
            }
          }
        },
        legend: {
          display: false  // This should correctly hide the legend
        }
      };
    }

    function toggleDrunkMode(isDrunk) {
      const sound = document.getElementById('drunkModeSound');
      if (isDrunk) {
        document.body.classList.add('drunk-mode');
        myRadarChart.options = getChartOptions(true); // Update chart options to drunk mode settings
        myRadarChart.data = getChartData(true); // Update chart to drunk mode colors
        myRadarChart.update(); // Apply the changes to the chart
        sound.play().catch(e => console.error('Error playing sound:', e));
      } else {
        document.body.classList.remove('drunk-mode');
        myRadarChart.options = getChartOptions(false); // Update chart options to sober mode settings
        myRadarChart.data = getChartData(false); // Update chart to sober mode colors
        myRadarChart.update(); // Apply the changes to the chart
        sound.pause();
        sound.currentTime = 0; // Resets the audio to start
      }
    }
  </script>
</body>
</html>
