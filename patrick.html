<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patrick Dhital - Profile</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <main id="main-content">
    <div class="profile-view">
      <div class="stats">
        <canvas id="radarChart"></canvas>
      </div>
      <div class="right">
          <div class="profile-header">
              <div class="profile-info">
                  <img src="https://i.imgur.com/wHVzcz7.png" alt="Patrick Dhital" class="profile-img" id="profileImage">
                  <div class="name-nickname">
                      <h3>Patrick Dhital</h3>
                      <p>Himalayan Persuasion</p>
                  </div>
              </div>
              <div class="buttons">
                  <button id="drunkModeButton" onclick="toggleDrunkMode(true)">Drunk Mode</button>
                  <button id="soberModeButton" onclick="toggleDrunkMode(false)">Sober Mode</button>
              </div>
          </div>
          <div class="bio">
              <p>This guy's the embodiment of "clumsiness". He has a big heart, loves his wife, loves his family, but...he also loses anything and everything on the planet. You can trust him with anything, but don't trust him with anything materialistic. His skills are primarily in gentleness, and a degree of confidence that gets him by. Unfortunately, he is quite bothersome.</p>
              <div class="skills-container">
                  <div class="skill-box">
                      <h3>Key skills:</h3>
                      <ul>
                          <li>Problem solver (solves the problems he creates)</li>
                          <li>Great drinking buddy</li>
                          <li>League of Legends</li>
                      </ul>
                  </div>
                  <div class="weakness-box">
                      <h3>Key weaknesses:</h3>
                      <ul>
                          <li>Fear</li>
                          <li>Keeping any physical item</li>
                          <li>Remembering anything</li>
                      </ul>
                  </div>
              </div>
          </div>
      </div>
  </main>
  <audio id="drunkModeSound" src="audio/my-audio-file.mp3"></audio>
  <script>
    // Your JavaScript here
    var myRadarChart; // Variable to hold the chart instance

    document.addEventListener('DOMContentLoaded', function() {
      const ctx = document.getElementById('radarChart').getContext('2d');
      myRadarChart = new Chart(ctx, {
        type: 'radar',
        data: getChartData(false), // Initial call with sober mode data
        options: getChartOptions()
      });
    });

    function getChartData(isDrunk) {
      return {
        labels: ['Confidence', 'Bothersome', 'Destruction', 'Gentleness', 'Speech'],
        datasets: [{
          label: 'Patrick\'s Stats',
          data: [50, 55, 5, 85, 65],
          backgroundColor: isDrunk ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.2)', // Change based on mode
          borderColor: isDrunk ? 'rgba(255, 255, 255, 1)' : 'rgba(0, 0, 0, 1)', // Change based on mode
          borderWidth: 1
        }]
      };
    }

    function getChartOptions(isDrunk) {
        return {
            scales: {
                r: {
                    beginAtZero: true,
                    grid: {
                        color: isDrunk ? 'rgba(255, 255, 255, 0.5)' : 'rgba(0, 0, 0, 0.1)',
                    },
                    angleLines: {
                        color: isDrunk ? 'rgba(255, 255, 255, 0.5)' : 'rgba(0, 0, 0, 0.1)',
                    },
                    pointLabels: {
                        color: isDrunk ? '#fff' : '#000',
                    },
                    ticks: {
                        display: false  // Ensures tick marks are not displayed
                    }
                }
            },
            legend: {
                display: false  // Ensures the legend is not displayed
            }
        };
    }

    function toggleDrunkMode(isDrunk) {
        const body = document.body;
        const profileImage = document.getElementById('profileImage'); // Ensure this ID is correct
        const sound = document.getElementById('drunkModeSound');
        
        if (isDrunk) {
            body.classList.add('drunk-mode');
            profileImage.src = 'https://i.imgur.com/t988DDb.png'; // Drunk mode image
            myRadarChart.options = getChartOptions(true);
            myRadarChart.data = getChartData(true);
            myRadarChart.update();
            sound.play().catch(e => console.error('Error playing sound:', e));
        } else {
            body.classList.remove('drunk-mode');
            profileImage.src = 'https://i.imgur.com/wHVzcz7.png'; // Sober mode image
            myRadarChart.options = getChartOptions(false);
            myRadarChart.data = getChartData(false);
            myRadarChart.update();
            sound.pause();
            sound.currentTime = 0;
        }
    }
  </script>
</body>
</html>
